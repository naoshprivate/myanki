<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>フラッシュカード</title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    margin-top: 40px;
  }

.card {
  width: 320px;
  height: 200px;
  margin: 20px auto;
  perspective: 1000px;
  cursor: pointer;
}

.inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d; /* ← 重要 */
  transition: transform 0.6s;
}

.flipped .inner {
  transform: rotateY(180deg); /* ← 裏返し */
}

.front, .back {
  position: absolute;
  width: 100%;
  height: 100%;
  border: 1px solid #333;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden; /* ← これがないと両方見える */
  font-size: 26px;
  background: #fff;
}

.back {
  transform: rotateY(180deg); /* ← 裏面だけ反転させる */
  background: #f8f8f8;
}

</style>
</head>

<body>

<h2>フラッシュカード単語帳</h2>

<div class="card" id="flashcard">
  <div class="inner">
    <div class="front" id="word"></div>
    <div class="back" id="meaning"></div>
  </div>
</div>

<script>
// ▼ 単語データ
const cards = [
  { word: "apple", meaning: "りんご" },
  { word: "book", meaning: "本" },
  { word: "cat", meaning: "猫" },
  { word: "dog", meaning: "犬" },
  { word: "water", meaning: "水" }
];

// ▼ ランダム順
let order = [];
function shuffleOrder() {
  order = [...Array(cards.length).keys()];
  for (let i = order.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [order[i], order[j]] = [order[j], order[i]];
  }
}
shuffleOrder();

// ▼ 現在のカード
let current = 0;

// ▼ カード表示
function showCard() {
  const card = cards[order[current]];
  document.getElementById("word").textContent = card.word;
  document.getElementById("meaning").textContent = card.meaning;
  document.getElementById("flashcard").classList.remove("flipped");
}

// ▼ カード反転
function flipCard() {
  document.getElementById("flashcard").classList.toggle("flipped");
}

// ▼ 次へ
function nextCard() {
  current++;
  if (current >= cards.length) {
    shuffleOrder();
    current = 0;
  }
  showCard();
}

// ▼ 前へ
function prevCard() {
  current--;
  if (current < 0) current = cards.length - 1;
  showCard();
}

// ▼ キーボード操作
document.addEventListener("keydown", function(e) {
  if (e.key === "ArrowRight") nextCard();
  else if (e.key === "ArrowLeft") prevCard();
  else if (e.key === " ") {
    e.preventDefault(); // スクロール防止
    flipCard();
  }
});

// ▼ クリックでも反転
document.getElementById("flashcard").addEventListener("click", flipCard);

// ▼ 初期表示
showCard();
</script>

</body>
</html>
