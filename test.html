<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>フラッシュカード単語帳</title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    margin-top: 40px;
  }

  .card {
    width: 320px;
    height: 200px;
    margin: 20px auto;
    perspective: 1000px;
    cursor: pointer;
  }
  .inner {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s;
  }
  .flipped .inner {
    transform: rotateY(180deg);
  }
  .front, .back {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 1px solid #333;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    backface-visibility: hidden;
    font-size: 26px;
  }
  .back {
    transform: rotateY(180deg);
    background: #f2f2f2;
  }

  button {
    font-size: 16px;
    padding: 10px 20px;
    margin: 10px;
  }
</style>
</head>

<body>

<h2>フラッシュカード単語帳</h2>

<div class="card" id="flashcard" onclick="flipCard()">
  <div class="inner">
    <div class="front" id="word"></div>
    <div class="back" id="meaning"></div>
  </div>
</div>

<button onclick="prevCard()">◀ Prev</button>
<button onclick="nextCard()">Next ▶</button>

<script>
// ここに単語帳データ（自由に追加できます）
const cards = [
  { word: "apple", meaning: "りんご" },
  { word: "book", meaning: "本" },
  { word: "cat", meaning: "猫" },
  { word: "dog", meaning: "犬" },
  { word: "water", meaning: "水" }
];

// ランダム順のインデックス一覧を作成
let order = [];
function shuffleOrder() {
  order = [...Array(cards.length).keys()];
  for (let i = order.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [order[i], order[j]] = [order[j], order[i]];
  }
}
shuffleOrder();

// 現在位置
let current = 0;

// カードの表示
function showCard() {
  const card = cards[order[current]];
  document.getElementById("word").textContent = card.word;
  document.getElementById("meaning").textContent = card.meaning;

  // 裏向きのままにならないよう戻す
  document.getElementById("flashcard").classList.remove("flipped");
}

// カードを反転
function flipCard() {
  document.getElementById("flashcard").classList.toggle("flipped");
}

// 次へ
function nextCard() {
  current++;
  if (current >= cards.length) {
    shuffleOrder(); // すべて見たらまたランダムに並び替え
    current = 0;
  }
  showCard();
}

// 前へ
function prevCard() {
  current--;
  if (current < 0) current = cards.length - 1;
  showCard();
}

// 初期表示
showCard();
</script>

</body>
</html>

